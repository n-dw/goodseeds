{% extends 'shop/_layouts/main' %}

{% block main %}
    <section class="sign-in u-bg-beige">
        <div class="wrapper container-fluid">
            <div class="row center-xs">
                <div class="col-xs-12 col-sm-6 col-md-4">
                    <h1>Register</h1>
                    <form id="user_register" method="post" accept-charset="UTF-8">
                        {{ getCsrfInput() }}
                        <input type="hidden" name="action" value="users/saveUser">
                        <input type="hidden" name="redirect" value="">

                        {% macro errorList(errors) %}
                            {% if errors %}
                                <ul class="errors">
                                    {% for error in errors %}
                                        <li>{{ error }}</li>
                                    {% endfor %}
                                </ul>
                            {% endif %}
                        {% endmacro %}

                        {% from _self import errorList %}

                        <div class="row">
                            <div class="input-wrapper col-xs-12 c-fieldset">
                                <input class="c-input" placeholder="Email *" required aria-label="Email" id="email" type="email"
                                       name="email"
                                        {%- if account is defined %} value="{{ account.email }}"{% endif %}>

                                {% if account is defined %}
                                    {{ errorList(account.getErrors('email')) }}
                                {% endif %}
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-wrapper col-xs-12 c-fieldset">
                                <input class="c-input" aria-label="password" placeholder="Password *" required id="password"
                                       type="password" name="password">

                                {% if account is defined %}
                                    {{ errorList(account.getErrors('password')) }}
                                {% endif %}
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-wrapper col-xs-12 c-fieldset">
                                <label for="fields[userGovernmentId]">Upload ID *</label>
                                <p>Please upload a valid Canadian government photo ID clearly stating you are over the age of {{ siteSettings.minAge }}, such as a drivers license or passport.</p>
                                 <input id="userGovernmentId" required name="fields[userGovernmentId]" type="file" accept="image/*;capture=camera">
                            </div>
                            {% if account is defined %}
                                {{ errorList(account.getErrors('fields[userGovernmentId]')) }}
                            {% endif %}
                        </div>
                        <div class="row">
                            <div class="input-wrapper col-xs-12 c-fieldset">
                                <input class="c-button c-button--large c-button--cta-white" type="submit"
                                       value="Register">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
{% endblock %}